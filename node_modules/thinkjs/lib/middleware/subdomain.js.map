{"version":3,"sources":["../../src/middleware/subdomain.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mBAUE,G,kBAAK;AACH,QAAI,YAAY,KAAK,MAAL,CAAY,WAAZ,CAAhB;AACA,QAAI,MAAM,OAAN,CAAc,SAAd,CAAJ,EAA8B;AAC5B;AACD;AACD,QAAI,OAAO,KAAK,IAAhB;AACA,QAAI,WAAW,KAAK,QAAL,CAAc,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAAf;AACA,QAAI,QAAQ,UAAU,QAAV,CAAZ;AACA,QAAI,CAAC,KAAL,EAAY;AACV;AACD;AACD,SAAK,QAAL,GAAgB,QAAQ,GAAR,GAAc,KAAK,QAAnC;AACD,G;;;EAjB0B,MAAM,UAAN,CAAiB,I","file":"subdomain.js","sourcesContent":["'use strict';\n/**\n * subdomain\n * @type {}\n */\nexport default class extends think.middleware.base {\n  /**\n   * run\n   * @return {} []\n   */\n  run(){\n    let subdomain = this.config('subdomain');\n    if (think.isEmpty(subdomain)) {\n      return;\n    }\n    let http = this.http;\n    let hostname = http.hostname.split('.')[0];\n    let value = subdomain[hostname];\n    if (!value) {\n      return;\n    }\n    http.pathname = value + '/' + http.pathname;\n  }\n}"]}